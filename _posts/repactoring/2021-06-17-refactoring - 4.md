---
layout: post
title: 리팩터링 리뷰 - 4
subtitle: "spring, security"
categories: spring
tags: security
comments: true
---
> repactoring

----
캡슐화
====

## 1.레코드 캡슐화하기

  - 레코드는 명확한 값과 명확하지 않은값을 구분해서 저장해야하는 점이 번거롭다.
  - 객체를 사용하면 어떻게 저장했는지 숨긴 채 세 가지값을 각각의 메소드로 제공할 수 있다. 
  - `레코드를 캡슐화하는 목적은 변수 자체는 물론 그 내용을 조작하는 방식도 통제하려함이다.`
  - 캡슐화에서는 값을 수정하는 부분을 명확하게 드러내고 한곳에 모아두는 일이 굉장히 중요하다.
  - 캡슐화는 모든쓰기 를 함수 안에서 처리한다는 원칙이 존재한다.


  1. 클래스를 사용하는 

## 2. 컬렉션 캡슐화하기

  - 게터가 컬렉션 자체를 반환하도록 한다면, 그 컬렉션을 감싼 클래스가 눈치채지 못하는 상태에서 컬렉션의 원소들이 바뀌어 버릴 수 있다. 
  - 컬렉션을 소유한 클래스를 통해서만 원소를 변경하도록 프로그램을 개선하면서 컬렉션 변경 방식도 원하는 대로 수정할수있다.
  - 컬렉션에 접근하려면 컬렉션이 소속된 클래스의 적절한 메서드를 반드시 거치게 하는 것이다. 

## 3. 기본형을 객체로 바꾸기

  - 단순 출력 이상의 기능이 필요해지는 순간 그 데이터를 표현하는 전용 클래스를 정의하는 편이다. 

## 4. 임시 변수를 질의 함수로 바꾸기

  - 임시 변수를 사용하면 값을 계산하는 코드가 반복되는걸 줄이고 값의 의미를 설명할 수도 있어서 유용하다.
  - 

## 5. 클래스 추출하기

  - 클래스는 반드시 명확하게 추상화하고 소수의 주어진 역할만 처리해야 한다는 가이드라인이 존재한다.
  - 메서드와 데이터가 너무 많은 클래스는 이해하기가 쉽지 않으니 잘 살펴보고 적절히 분리하는것이 좋다. 


## 6. 클래스 인라인하기
  - 리팩터링을 하고 난 후 특정 클래스에 남은 역할이 거의 없을때 이런 현상이 생긴다. 
  - 두 클래스의 기능을 지금과 다르게 배분하고 싶을 때도 클래스르 인라인 한다. 
